<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.ezen.likes.LikesService">

<!-- 동일 게시글에 대한 이전 추천 여부 확인 -->
<select id="likes_check" parameterMap="map" resultType="int">
	select count(*) from likes where likes_boardno = #{likes_boardno} and likes_id = #{likes_id}
</select>

<!-- 게시글 추천 -->
<insert id="likes_update" parameterType="map">
	insert into likes values(#{likes_boardno}, #{likes_id})
</insert>
	
<!-- 게시글 추천 취소 -->
<delete id="likes_delete" parameterType="map">
	delete from likes where likes_boardno = #{likes_boardno} and likes_id = #{likes_id}
</delete>
	
<!-- 게시글 추천수 -->
<select id="likes_count" parameterType="int" resultType="int">
	select count(*) from likes where likes_boardno = #{likes_boardno}
</select>

</mapper>